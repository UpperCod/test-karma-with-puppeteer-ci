function e(e,t,n){if(t=t||{},arguments.length>3){n=[n];for(let e=3;e<arguments.length;e++)n.push(arguments[e])}null!=n&&(t.children=n);let s={type:e,props:t},o=t.key;return null!=o&&(s.key=""+o),s}function t(t){return null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t?e(null,null,""+t):t}const n=[],s={},o=Symbol("Atomico.state"),r="localName",l="host",i=116,a=79,u=77,c=73,h=67,p={children:1},d={innerHTML:1,textContent:1,contenteditable:1},f={className:1,id:1,checked:1,value:1,selected:1},y={},b={};Promise.prototype.then.bind(Promise.resolve());function m(e){return"function"==typeof e}function g(e,t,n,s,o,r,l){if(n=null==n?null:n,s=null==s?null:s,(t="class"!=t||o?t:"className")in e&&f[t]&&(n=e[t]),s!==n)if("o"!=t[0]||"n"!=t[1]||!m(s)&&!m(n))switch(t){case"ref":s&&(s.current=e);break;case"style":!function(e,t,n){let s=t,o=n;if("object"==typeof o){o="";for(let e in n)n[e]&&(b[e]||(b[e]=e.replace(/([A-Z])/g,"-$1").toLowerCase()),o+=`${b[e]}:${n[e]};`)}s!=o&&(e.style.cssText=o)}(e,n||e.style.cssText,s);break;case"shadowDom":"attachShadow"in e&&(e.shadowRoot&&!s||!e.shadowRoot&&s)&&e.attachShadow({mode:s?"open":"closed"});break;case"key":t="data-key",null==s?delete e.dataset.key:e.dataset.key=s;break;default:!o&&"list"!=t&&t in e?e[t]=null==s?"":s:null==s?e.removeAttribute(t):e.setAttribute(t,s)}else!function(e,t,n,s,o){y[t]||(y[t]=t.slice(2).toLocaleLowerCase());t=y[t],s.handleEvent||(s.handleEvent=(e=>s[e.type].call(o,e)));n?(s[t]||e.addEventListener(t,s),s[t]=n):s[t]&&(e.removeEventListener(t,s),delete s[t])}(e,t,s,r,l)}function v(e,t){let n=e.length;for(let s=0;s<n;s++){let n=e[s],o=n.hooks,r=o.length;t.type===h&&(n.remove=!0);for(let e=0;e<r;e++){o[e][1](t)}}}function w(e,n){let s,o=[];function r(c,p){if(!s)return;if(!m((c=t(c)).type))return v(o.splice(p),{type:h}),s=k(e,s,c,n,l),void(o.length&&(s[e.id].updateComponent=l));let d,f,y=o[p]||{};y.type!=c.type&&(v(o.splice(p),{type:h}),o[p]=function e(t,n){for(let e in n)t[e]=n[e];for(let n=2;n<arguments.length;n++)e(t,arguments[n]);return t}({hooks:[],ref:{get current(){return s}}},c),d=!0,f=!0),y=o[p];let b=c.props,g=y.props;if(!f){let e=Object.keys(g).length,t=0;for(let e in b)if(t++,b[e]!=g[e]){f=!0;break}f=f||e!=t}y.props=b,f&&!y.prevent&&function(){if(y.remove)return s;v([y],{type:i}),r(y.type(y.props),p+1),v([y],{type:d?a:u}),d=!1}()}function l(e,t,n){switch(e){case i:return s=t,r(n,0),s;case c:v([].concat(o).reverse(),{type:e});break;case h:s=!1,v(o.reverse(),{type:e}),o=[]}}return l}function k(e,s,o,a,u){let{vnode:c,updateComponent:h,handlers:f={}}=s&&s[e.id]||{};if(c==o)return s;c=c||{props:{}};let{type:y,props:b}=o,{shadowDom:v,children:A}=b,N=m(y);if(a=a||"svg"==y,N&&!h&&(h=w(e,a)),!N&&y!=l&&function(e){if(!e)return;e[r]||(e[r]=e.nodeName.toLowerCase());let t=e[r];return"#text"==t?null:t}(s)!==y){let t=x(y,a),n=s&&s.parentNode;n&&(C(e,s,!0,u),n.replaceChild(t,s)),s=t,f={}}if(h&&u!=h)return h(i,s,o);if(null==y)s.nodeValue!=A&&(s.nodeValue=A);else{(function(e,t,n,s,o,r){t=t||{};for(let r in t)p[r]||r in n||g(e,r,t[r],null,s,o);let l;for(let i in n)p[i]||(g(e,i,t[i],n[i],s,o,r),l=l||d[i]);return l})(s,c.props,o.props,a,f,e.bind)||c.props.children==A||function(e,s,o,r){let l=[],i=function e(s,o,r,l,i=0){r=r||[];l=l||[];if(a=s,Array.isArray(a)){let t=s.length;for(let n=0;n<t;n++)e(s[n],o,r,l,i+1)}else{if(null==s&&!i)return n;let e=o?o(s,l.length):t(s);o||"object"==typeof e&&null!=e.key&&-1==r.indexOf(e.key)&&(r.push(e.key),r.withKeyes=!0),l.push(e)}var a;return l}(o,!1,l),a=i.length,u=s.childNodes,c={},h=u.length,p=l.withKeyes,d=p?0:h>a?a:h;for(;d<h;d++){let t=u[d],n=d;p&&(n=t.dataset.key,l.indexOf(n)>-1)?c[n]=t:(C(e.id,t),d--,h--,s.removeChild(t))}for(let t=0;t<a;t++){let n=i[t],o=u[t],l=p?n.key:t,a=p?c[l]:o;p&&a&&a!=o&&s.insertBefore(a,o);let h=k(e,!a&&m(n.type)?x(null):a,n,r);a||(u[t]?s.insertBefore(h,u[t]):s.appendChild(h))}}(e,v&&s.shadowRoot||s,A,a)}return s[e.id]={vnode:o,handlers:f},s}function C(e,t,n,s){let{updateComponent:o}=t[e]||{},r=t.childNodes,l=r.length;o&&o!=s&&o(n?c:h);for(let t=0;t<l;t++)C(e,r[t])}function x(e,t){let n,s=document;return n=null!=e?t?s.createElementNS("http://www.w3.org/2000/svg",e):s.createElement(e):s.createTextNode("")}function A(n,r,i=s){let a={id:i.id||o,bind:i.bind,host:i.host};n=t(n),a.host||n.type==l||(n=e(l,{},n)),k(a,r,n)}function N(e){return JSON.parse(e)}class S extends HTMLElement{constructor(){super(),this.props={},this.mounted=new Promise(e=>this.mount=e),this.unmounted=new Promise(e=>this.unmount=e)}connectedCallback(){this.mount()}disconnectedCallback(){this.unmount()}attributeChangedCallback(e,t,n){t!=n&&this.setProperty(e,n)}static get observedAttributes(){let e=this.observables||{},t=[],n=(e,t,n)=>{Object.defineProperty(this.prototype,e,{set(s){if(n===Boolean){let e=this.hasAttribute(t);if(s&&e||!s&&!e)return;this[s?"setAttribute":"removeAttribute"](t,"")}else this.setProperty(e,s)},get(){return this.props[e]}})};for(let s in e){let o=s.replace(/([A-Z])/g,"-$1").toLowerCase();t.push(o),name in this.prototype||n(s,o,e[s])}return t}setProperty(e,t){e=e.replace(/-(\w)/g,(e,t)=>t.toUpperCase());let n,{observables:s}=this.constructor,o=s[e];try{if("string"==typeof t)switch(o){case Boolean:t=1==N(t||"true");break;case Number:t=Number(t);break;case Object:case Array:t=N(t);break;case Function:t=window[t]}}catch(e){n=!0}if((n||{}.toString.call(t)!=`[object ${o.name}]`)&&null!=t)throw`the observable [${e}] must be of the type [${o.name}]`;this.props[e]!==t&&this.update({[e]:t})}}class L extends S{constructor(){let t;super();let n={id:Symbol("state"),bind:this,host:!0},{styles:s}=this.constructor;this.render=this.render.bind(this);let o={};this.update=(r=>{for(let e in r)o[e]=r[e];t||(t=!0,this.mounted.then(()=>{let r=this.props={...this.props};for(let e in o){null==o[e]?delete r[e]:r[e]=o[e]}o={},A(e(this.render,r),this,n),t=!1,s&&this.shadowRoot&&(this.shadowRoot.adoptedStyleSheets=s,s=null)}))}),this.unmounted.then(()=>A("",this,n)),this.update()}}var E,P,$='@import url("https://fonts.googleapis.com/css?family=Muli:400,900");:host{font-family:Muli,sans-serif;font-size:50px;text-align:center}';function j({message:t}){return e("host",{shadowDom:!0},e("style",null,$),"ðŸ‘‹ ss-ss ",t)}j.observables={message:String},E="ss-ss",P=j,customElements.define(E,P instanceof L?P:function(e){let t=class extends L{};return t.prototype.render=e,t.observables=e.observables,t.styles=e.styles,t}(P));
//# sourceMappingURL=module.js.map
